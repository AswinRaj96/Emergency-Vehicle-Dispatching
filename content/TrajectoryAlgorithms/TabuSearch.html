<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Tabu Search — AI Search Algorithms for Smart Mobility</title>
<link href="../../_static/css/theme.css" rel="stylesheet"/>
<link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet"/>
<link href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css" rel="stylesheet"/>
<link as="font" crossorigin="" href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="" href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/sphinx-book-theme.5f77b4aec8189eecf79907ce328c390d.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/togglebutton.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/copybutton.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/mystnb.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/sphinx-thebe.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" rel="stylesheet" type="text/css"/>
<link as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js" rel="preload"/>
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
<script src="../../_static/jquery.js"></script>
<script src="../../_static/underscore.js"></script>
<script src="../../_static/doctools.js"></script>
<script src="../../_static/togglebutton.js"></script>
<script src="../../_static/clipboard.min.js"></script>
<script src="../../_static/copybutton.js"></script>
<script src="../../_static/tabs.js"></script>
<script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
<script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
<script async="async" src="https://unpkg.com/thebe@latest/lib/index.js"></script>
<script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
<script async="async" src="../../_static/sphinx-thebe.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="SimulatedAnnealing.html" rel="next" title="Simulated Annealing"/>
<link href="index.html" rel="prev" title="Trajectory-based Algorithms"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="en" name="docsearch:language"/>
</head>
<body data-offset="80" data-spy="scroll" data-target="#bd-toc-nav">
<div class="container-fluid" id="banner"></div>
<div class="container-xl">
<div class="row">
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
<div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
<img alt="logo" class="logo" src="../../_static/sm.png"/>
<h1 class="site-logo" id="site-title">AI Search Algorithms for Smart Mobility</h1>
</a>
</div><form action="../../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="icon fas fa-search"></i>
<input aria-label="Search this book..." autocomplete="off" class="form-control" id="search-input" name="q" placeholder="Search this book..." type="search"/>
</form><nav aria-label="Main navigation" class="bd-links" id="bd-docs-nav">
<div class="bd-toc-item active">
<ul class="nav bd-sidenav">
<li class="toctree-l1">
<a class="reference internal" href="../../index.html">
   AI Search Algorithms for Smart Mobility
  </a>
</li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1">
<a class="reference internal" href="../GettingStarted/index.html">
   Getting Started
  </a>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../IntroGeoScience/index.html">
   Introduction to Geospatial Data Science
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
<label for="toctree-checkbox-1">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../IntroGeoScience/SpatialData.html">
     Spatial Data and Geographic Information System (GIS)
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../IntroGeoScience/Projection.html">
     Projection
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../IntroGeoScience/Visualization.html">
     Visualization
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../GraphSearchAlgorithms/index.html">
   Graph Search Algorithms
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
<label for="toctree-checkbox-2">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../GraphSearchAlgorithms/RoadGraph.html">
     From Road Network to Graph
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../GraphSearchAlgorithms/GraphSearch.html">
     Graph Search
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../GraphSearchAlgorithms/BlindSearch.html">
     Blind Search Algorithms
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../GraphSearchAlgorithms/InformedSearch.html">
     Informed Search Algorithms
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../GraphSearchAlgorithms/SearchComparison.html">
     Search Algorithm Comparison
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 current active has-children">
<a class="reference internal" href="index.html">
   Trajectory-based Algorithms
  </a>
<input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
<label for="toctree-checkbox-3">
<i class="fas fa-chevron-down">
</i>
</label>
<ul class="current">
<li class="toctree-l2 current active">
<a class="current reference internal" href="#">
     Tabu Search
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="SimulatedAnnealing.html">
     Simulated Annealing
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../EvolutionaryComputingAlgorithms/index.html">
   Evolutionary Computing Algorithms
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
<label for="toctree-checkbox-4">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../EvolutionaryComputingAlgorithms/GeneratingInitialPopulations.html">
     Generating Initial Populations
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../EvolutionaryComputingAlgorithms/GeneticAlgorithms.html">
     Genetic Algorithms
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../EvolutionaryComputingAlgorithms/DifferentialEvolution.html">
     Differential Evolution
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../SwarmIntelligenceAlgorithms/index.html">
   Swarm Intelligence Algorithms
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
<label for="toctree-checkbox-5">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../SwarmIntelligenceAlgorithms/ParticleSwarmOptimization.html">
     Particle Swarm Optimization
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../SwarmIntelligenceAlgorithms/AntColonyOptimization.html">
     Ant Colony Optimization
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../SwarmIntelligenceAlgorithms/ArtificialBeeColony.html">
     Artificial Bee Colony
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../SwarmIntelligenceAlgorithms/FireflyAlgorithm.html">
     Firefly Algorithm
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../LearnToSearch/index.html">
   Learn to Search
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
<label for="toctree-checkbox-6">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../LearnToSearch/GeometricDeepLearning.html">
     Geometric Deep Learning
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../LearnToSearch/GraphNeuralNetworks.html">
     Graph Neural Networks (GNN)
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../LearnToSearch/AttentionMechanisms.html">
     Attention Mechanisms
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../LearnToSearch/ReinforcementLearning.html">
     Reinforcement Learning
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../PeopleMobilityProblems/index.html">
   People Mobility Problems
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
<label for="toctree-checkbox-7">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../PeopleMobilityProblems/carsharing/CarSharing.html">
     Car-Sharing Service
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../PeopleMobilityProblems/trip_itinerary_planning/TIP.html">
     Trip Itinerary Planning
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../PeopleMobilityProblems/multicriteriarouting/MultiCriteriaRouting.html">
     Multi-Criteria Routing
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../PeopleMobilityProblems/deadheading/Deadheading.html">
     Deadheading in Ride-Hailing
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../LogisticsProblems/index.html">
   Logistics Problems
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
<label for="toctree-checkbox-8">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../LogisticsProblems/delivery_GA.html">
     Delivery Vehicle Routing
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../LogisticsProblems/eco_routing.html">
     Eco-efficient Delivery
    </a>
</li>
</ul>
</li>
<li class="toctree-l1">
<a class="reference internal" href="../InfrastructureProblems/index.html">
   Infrastructure Problems
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="../ToolsAndPythonLibraries/index.html">
   Tools and Python Libraries
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="../Datasets.html">
   Datasets
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="../../References.html">
   References
  </a>
</li>
</ul>
</div>
</nav> <!-- To handle the deprecated key -->
<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>
</div>
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
<div class="topbar container-xl fixed-top">
<div class="topbar-contents row">
<div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
<div class="col pl-md-4 topbar-main">
<button aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" class="navbar-toggler ml-0" data-placement="bottom" data-target=".site-navigation" data-toggle="collapse" id="navbar-toggler" title="Toggle navigation" type="button">
<i class="fas fa-bars"></i>
<i class="fas fa-arrow-left"></i>
<i class="fas fa-arrow-up"></i>
</button>
<div class="dropdown-buttons-trigger">
<button aria-label="Download this page" class="btn btn-secondary topbarbtn" id="dropdown-buttons-trigger"><i class="fas fa-download"></i></button>
<div class="dropdown-buttons">
<!-- ipynb file if we had a myst markdown file -->
<!-- Download raw file -->
<a class="dropdown-buttons" href="../../_sources/content/TrajectoryAlgorithms/TabuSearch.ipynb"><button class="btn btn-secondary topbarbtn" data-placement="left" data-toggle="tooltip" title="Download source file" type="button">.ipynb</button></a>
<!-- Download PDF via print -->
<button class="btn btn-secondary topbarbtn" data-placement="left" data-toggle="tooltip" id="download-print" onclick="window.print()" title="Print to PDF" type="button">.pdf</button>
</div>
</div>
<!-- Source interaction buttons -->
<div class="dropdown-buttons-trigger">
<button aria-label="Connect with source repository" class="btn btn-secondary topbarbtn" id="dropdown-buttons-trigger"><i class="fab fa-github"></i></button>
<div class="dropdown-buttons sourcebuttons">
<a class="repository-button" href="https://github.com/SmartMobilityAlgorithms/book"><button class="btn btn-secondary topbarbtn" data-placement="left" data-toggle="tooltip" title="Source repository" type="button"><i class="fab fa-github"></i>repository</button></a>
</div>
</div>
<!-- Full screen (wrap in <a> to have style consistency -->
<a class="full-screen-button"><button aria-label="Fullscreen mode" class="btn btn-secondary topbarbtn" data-placement="bottom" data-toggle="tooltip" onclick="toggleFullScreen()" title="Fullscreen mode" type="button"><i class="fas fa-expand"></i></button></a>
<!-- Launch buttons -->
<div class="dropdown-buttons-trigger">
<button aria-label="Launch interactive content" class="btn btn-secondary topbarbtn" id="dropdown-buttons-trigger"><i class="fas fa-rocket"></i></button>
<div class="dropdown-buttons">
<a class="binder-button" href="https://mybinder.org/v2/gh/SmartMobilityAlgorithms/book/main?urlpath=tree/content/TrajectoryAlgorithms/TabuSearch.ipynb"><button class="btn btn-secondary topbarbtn" data-placement="left" data-toggle="tooltip" title="Launch Binder" type="button"><img alt="Interact on binder" class="binder-button-logo" src="../../_static/images/logo_binder.svg"/>Binder</button></a>
</div>
</div>
</div>
<!-- Table of contents -->
<div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
<i class="fas fa-list"></i> Contents
            </div>
<nav id="bd-toc-nav">
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-tabu-search-for-tsp">
   Example: Tabu Search for TSP
  </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-tabu-search-for-routing-problem">
   Example: Tabu Search for Routing Problem
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="row" id="main-content">
<div class="col-12 col-md-9 pl-md-3 pr-md-0">
<div>
<div class="section" id="tabu-search">
<h1>Tabu Search<a class="headerlink" href="#tabu-search" title="Permalink to this headline">¶</a></h1>
<p>Tabu search (TS) is an iterative neighborhood search algorithm, where the neighborhood changes dynamically. TS enhances local search by actively avoiding points in the search space already visited. By avoiding already visited points, loops in search trajectories are avoided and local optima can be escaped. TS can be considered as the combination of local search (LS) and memory structures. The main feature of TS is the use of an explicit memory. Uses of memory have two goals: to prevent the search from revisiting previously visited solutions and to explore the unvisited areas of the solution space.</p>
<style>
i {font-weight:normal}
span {font-weight:normal}
</style>
<div style="background-color: rgba(0,0,0,0.0470588);padding:10px;font-family:monospace;">
<b>TABU-SEARCH</b>(<i>graph</i>,<i>source</i>,<i>destination</i>) <b>return</b> a <i>route</i>
<div style="padding-left:20px;">
<i>best_solution</i> ← initial random solution<br/>
<i>best_solution_cost</i> ← cost(<i>best_solution</i>)<br/>
<br/>
<i><font color="purple">tabu_history</font></i> ← <i>best_solution</i><br/>
<i><font color="orange">num_iterations</font><i> ← number of iterations <font color="#03A9F4">// this is required to terminate the algorithm</font><br/>
<i><font color="blue">tabu_limit</font></i> ← number of iterations before a tabu entry is "forgotten"<br/>
<i><font color="green">tabu_size</font></i> ← maximum length of <i><font color="purple">tabu_history</font></i><br/>
<br/>
        for <i>i</i> to <i><font color="orange">num_iterations</font><i> do<br/>
<div style="padding-left:20px;">
        reduce all entries in <i><font color="purple">tabu_history</font></i> by 1<br/>
<i>candidates<i> ← neighbouring solutions of <i>best_solution</i><br/>
        for <strong>candidate</strong> in <i>candidates</i> do<br/>
<div style="padding-left:20px;">
            if <strong>candidate</strong> in <i><font color="purple">tabu_history</font></i> then<br/>
                remove <strong>candidate</strong> from <i>candidates</i>
<div style="padding-left:20px;">
</div>
</div>
<i>best_candidate</i> ← best solution in <i>candidates</i><br/>
<i><font color="purple">tabu_history</font></i> ← <i>best_candidate</i><br/>
        if <i><font color="purple">tabu_history</font></i>.size &gt; <i><font color="green">tabu_size</font></i> then<br/>
<div style="padding-left:20px;">
            trim <i><font color="purple">tabu_history</font> until within <i><font color="green">tabu_size</font></i>
</i></div>
        for <i>item</i> in <i><font color="purple">tabu_history</font></i> do<br/>
<div style="padding-left:20px;">
            if <i>item</i> &lt; <i><font color="blue">tabu_limit</font></i> then<br/>
<div style="padding-left:20px;">
<i><font color="purple">tabu_history</font></i>.pop(<i>item</i>)
                </div>
</div>
</i></i></div>
</i></i></i></i></div>
</div>
<br/><br/><p>Essentially, neighbouring solutions are found for the initial randomized solution. The best solution is selected, and is added to a tabu list. For future iterations, tabu items are disqualified as potential candidates, unless enough time has passed and they can be reconsidered. This prevents the tabu search from getting stuck at a local minimum.</p>
<p>Additionally, an aspiration criteria can be used to prematurely “free up” a tabu item and renew it for consideration.</p>
<div class="section" id="example-tabu-search-for-tsp">
<h2>Example: Tabu Search for TSP<a class="headerlink" href="#example-tabu-search-for-tsp" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the graph</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">complete_graph</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">():</span>
    <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">][</span><span class="s1">'weight'</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">))</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/TabuSearch_4_0.png" src="../../_images/TabuSearch_4_0.png"/>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a function to calculate the tour cost</span>
<span class="k">def</span> <span class="nf">cost_of_tour</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">tour</span><span class="p">):</span>
    <span class="n">cost</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">u</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">tour</span><span class="p">,</span> <span class="n">tour</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
        <span class="n">cost</span> <span class="o">+=</span> <span class="n">G</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v</span><span class="p">][</span><span class="s1">'weight'</span><span class="p">]</span>
    <span class="n">cost</span> <span class="o">+=</span> <span class="n">G</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">tour</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">'weight'</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">cost</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize a random solution, and its cost</span>
<span class="n">initial_solution</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()]</span>
<span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">initial_solution</span><span class="p">)</span>
<span class="n">initial_cost</span> <span class="o">=</span> <span class="n">cost_of_tour</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">initial_solution</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">initial_solution</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">initial_cost</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[23, 2, 14, 21, 7, 17, 3, 5, 0, 8, 13, 24, 16, 12, 15, 18, 19, 1, 11, 4, 6, 22, 10, 20, 9]
124
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_best_neighbour</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">tour</span><span class="p">,</span> <span class="n">tabu_history</span><span class="p">,</span> <span class="n">tabu_limit</span><span class="p">,</span> <span class="n">aspiration</span><span class="p">):</span>
    <span class="n">best_neighbour</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">best_neighbour_cost</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">inf</span>
    <span class="c1"># generate a list of all possible neighbours</span>
    <span class="c1"># a neighbour is just swapping the position of two nodes within the tour</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="p">:</span> <span class="k">continue</span>

            <span class="c1"># Swap the ith and jth nodes</span>
            <span class="n">tmp_route</span> <span class="o">=</span> <span class="n">tour</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">tmp_route</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">tmp_route</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp_route</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">tmp_route</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
            <span class="n">tmp_cost</span> <span class="o">=</span> <span class="n">cost_of_tour</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">tmp_route</span><span class="p">)</span>

            <span class="c1"># This route is tabu, check aspiration</span>
            <span class="k">if</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">tmp_route</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tabu_history</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">tabu_history</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">tmp_route</span><span class="p">)]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">tabu_history</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">tmp_route</span><span class="p">)]</span> <span class="o">&gt;</span> <span class="n">aspiration</span><span class="p">:</span>
                        <span class="k">continue</span>

            
            <span class="k">if</span> <span class="n">tmp_cost</span> <span class="o">&lt;</span> <span class="n">best_neighbour_cost</span><span class="p">:</span>
                <span class="n">best_neighbour_cost</span> <span class="o">=</span> <span class="n">tmp_cost</span>
                <span class="n">best_neighbour</span> <span class="o">=</span> <span class="n">tmp_route</span>
                <span class="n">tabu_history</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">best_neighbour</span><span class="p">)]</span> <span class="o">=</span> <span class="n">tabu_limit</span>
        
    <span class="k">return</span> <span class="n">best_neighbour</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">tabu_search</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">initial_solution</span><span class="p">,</span> <span class="n">num_iter</span><span class="p">,</span> <span class="n">tabu_history</span><span class="p">,</span> <span class="n">tabu_limit</span><span class="p">,</span> <span class="n">aspiration</span><span class="p">):</span>
    <span class="n">best_solution</span> <span class="o">=</span> <span class="n">initial_solution</span>
    <span class="n">best_cost</span> <span class="o">=</span> <span class="n">cost_of_tour</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">best_solution</span><span class="p">)</span>
    <span class="n">states</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_iter</span><span class="p">):</span>

        <span class="c1"># Reduce counter for all tabu</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tabu_history</span><span class="p">:</span>
            <span class="n">tabu_history</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">tabu_history</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">best_solution</span> <span class="o">=</span> <span class="n">get_best_neighbour</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">best_solution</span><span class="p">,</span> <span class="n">tabu_history</span><span class="p">,</span> <span class="n">tabu_limit</span><span class="p">,</span> <span class="n">aspiration</span><span class="p">)</span>
        <span class="n">best_cost</span> <span class="o">=</span> <span class="n">cost_of_tour</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">best_solution</span><span class="p">)</span>
        <span class="n">states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">best_cost</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">best_solution</span><span class="p">,</span> <span class="n">best_cost</span><span class="p">,</span> <span class="n">states</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize some parameters</span>
<span class="n">aspiration</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">tabu_history</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">num_iterations</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">tabu_limit</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">best_solution</span><span class="p">,</span> <span class="n">best_cost</span><span class="p">,</span> <span class="n">states</span> <span class="o">=</span> <span class="n">tabu_search</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">initial_solution</span><span class="p">,</span> <span class="n">num_iterations</span><span class="p">,</span> <span class="n">tabu_history</span><span class="p">,</span> <span class="n">tabu_limit</span><span class="p">,</span> <span class="n">aspiration</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">best_solution</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">best_cost</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">"# Iterations"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">"Cost"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">states</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[14, 12, 11, 0, 7, 17, 24, 5, 9, 21, 13, 8, 10, 6, 3, 18, 19, 1, 16, 4, 22, 23, 2, 20, 15]
27
</pre></div>
</div>
<img alt="../../_images/TabuSearch_9_1.png" src="../../_images/TabuSearch_9_1.png"/>
</div>
</div>
</div>
<div class="section" id="example-tabu-search-for-routing-problem">
<h2>Example: Tabu Search for Routing Problem<a class="headerlink" href="#example-tabu-search-for-routing-problem" title="Permalink to this headline">¶</a></h2>
<p>We can also use Tabu Search for our University of Toronto routing problem, however we will need to define some new functions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setup the Graph, origin, and destination</span>
<span class="kn">import</span> <span class="nn">osmnx</span>
<span class="kn">from</span> <span class="nn">smart_mobility_utilities.common</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">randomized_search</span><span class="p">,</span> <span class="n">cost</span>
<span class="kn">from</span> <span class="nn">smart_mobility_utilities.viz</span> <span class="kn">import</span> <span class="n">draw_route</span><span class="p">,</span> <span class="n">draw_map</span>

<span class="n">reference</span> <span class="o">=</span> <span class="p">(</span><span class="mf">43.661667</span><span class="p">,</span> <span class="o">-</span><span class="mf">79.395</span><span class="p">)</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">osmnx</span><span class="o">.</span><span class="n">graph_from_point</span><span class="p">(</span><span class="n">reference</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">clean_periphery</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">simplify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">origin</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="n">G</span><span class="p">,</span> <span class="n">osmid</span><span class="o">=</span><span class="mi">389677909</span><span class="p">)</span>
<span class="n">destination</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="n">G</span><span class="p">,</span> <span class="n">osmid</span><span class="o">=</span><span class="mi">55808290</span><span class="p">)</span>

<span class="n">highlighted</span> <span class="o">=</span> <span class="p">[</span><span class="mi">389677909</span><span class="p">,</span> <span class="mi">55808290</span><span class="p">]</span>

<span class="c1"># marking both the source and destination node</span>

<span class="n">nc</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'red'</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">highlighted</span> <span class="k">else</span> <span class="s1">'#336699'</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()]</span>
<span class="n">ns</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span> <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">highlighted</span> <span class="k">else</span> <span class="mi">8</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()]</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">osmnx</span><span class="o">.</span><span class="n">plot_graph</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="n">ns</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="n">nc</span><span class="p">,</span> <span class="n">node_zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/TabuSearch_11_0.png" src="../../_images/TabuSearch_11_0.png"/>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize a random solution, and its cost</span>
<span class="n">initial_solution</span> <span class="o">=</span> <span class="n">randomized_search</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">origin</span><span class="o">.</span><span class="n">osmid</span><span class="p">,</span> <span class="n">destination</span><span class="o">.</span><span class="n">osmid</span><span class="p">)</span>
<span class="n">initial_cost</span> <span class="o">=</span> <span class="n">cost</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">initial_solution</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Initial Solution:"</span><span class="p">,</span><span class="n">initial_solution</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Initial cost:"</span><span class="p">,</span><span class="n">initial_cost</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Initial Solution: [389677909, 389678133, 123347786, 2557539842, 730029007, 5098988924, 6028561924, 24960080, 3707407641, 249991437, 24960070, 389678145, 389678112, 389678111, 389678107, 390547782, 389678104, 9270977960, 389678267, 9270977966, 3179025274, 9270977970, 1721866234, 304891685, 55808290]
Initial cost: 852.083
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smart_mobility_utilities.children</span> <span class="kn">import</span> <span class="n">get_children</span>
<span class="kn">from</span> <span class="nn">tqdm.notebook</span> <span class="kn">import</span> <span class="n">tqdm</span> 

<span class="k">def</span> <span class="nf">get_best_neighbour_route</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">route</span><span class="p">,</span> <span class="n">tabu_history</span><span class="p">,</span> <span class="n">tabu_limit</span><span class="p">,</span> <span class="n">aspiration</span><span class="p">):</span>
    <span class="n">best_neighbour</span> <span class="o">=</span> <span class="n">route</span>
    <span class="n">best_neighbour_cost</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">inf</span>
    <span class="c1"># generate a list of neighbours, limited to neighbour_limit</span>
    <span class="n">neighbours</span> <span class="o">=</span> <span class="n">get_children</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">route</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">neighbours</span><span class="p">:</span>
        <span class="n">child_cost</span> <span class="o">=</span> <span class="n">cost</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">child</span><span class="p">)</span>
        <span class="c1"># This route is tabu, check aspiration</span>
        <span class="k">if</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">child</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tabu_history</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">tabu_history</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">child</span><span class="p">)]</span> <span class="o">&gt;</span> <span class="n">aspiration</span><span class="p">:</span>
                <span class="k">continue</span>

        
        <span class="k">if</span> <span class="n">child_cost</span> <span class="o">&lt;</span> <span class="n">best_neighbour_cost</span><span class="p">:</span>
            <span class="n">best_neighbour_cost</span> <span class="o">=</span> <span class="n">child_cost</span>
            <span class="n">best_neighbour</span> <span class="o">=</span> <span class="n">child</span>
            <span class="n">tabu_history</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">best_neighbour</span><span class="p">)]</span> <span class="o">=</span> <span class="n">tabu_limit</span>
    <span class="k">return</span> <span class="n">best_neighbour</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">tabu_search_route</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">initial_solution</span><span class="p">,</span> <span class="n">num_iter</span><span class="p">,</span> <span class="n">tabu_history</span><span class="p">,</span> <span class="n">tabu_limit</span><span class="p">,</span> <span class="n">aspiration</span><span class="p">):</span>
    <span class="n">best_solution</span> <span class="o">=</span> <span class="n">initial_solution</span>
    <span class="n">historical_best</span> <span class="o">=</span> <span class="n">best_solution</span>
    <span class="n">best_cost</span> <span class="o">=</span> <span class="n">cost</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">best_solution</span><span class="p">)</span>
    <span class="n">states</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num_iter</span><span class="p">)):</span>
        <span class="c1"># Reduce counter for all tabu</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tabu_history</span><span class="p">:</span>
            <span class="n">tabu_history</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">-=</span><span class="mi">1</span>
        <span class="n">tabu_history</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">tabu_history</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tabu_history</span> <span class="k">if</span> <span class="n">tabu_history</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">}</span>
            
        <span class="n">best_solution</span> <span class="o">=</span> <span class="n">get_best_neighbour_route</span><span class="p">(</span>
            <span class="n">G</span><span class="p">,</span>
            <span class="n">best_solution</span><span class="p">,</span>
            <span class="n">tabu_history</span><span class="p">,</span> 
            <span class="n">tabu_limit</span><span class="p">,</span> 
            <span class="n">aspiration</span><span class="p">)</span>

        <span class="n">best_cost</span> <span class="o">=</span> <span class="n">cost</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">best_solution</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">best_cost</span> <span class="o">&lt;=</span> <span class="n">cost</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">historical_best</span><span class="p">):</span> <span class="n">historical_best</span> <span class="o">=</span> <span class="n">best_solution</span>
        <span class="n">states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">best_cost</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">historical_best</span><span class="p">,</span> <span class="n">cost</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">historical_best</span><span class="p">),</span> <span class="n">states</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize some parameters</span>
<span class="n">aspiration</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">tabu_history</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">num_iterations</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">tabu_limit</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">best_solution</span><span class="p">,</span> <span class="n">best_cost</span><span class="p">,</span> <span class="n">states</span> <span class="o">=</span> <span class="n">tabu_search_route</span><span class="p">(</span>
    <span class="n">G</span><span class="p">,</span>
    <span class="n">initial_solution</span><span class="p">,</span>
    <span class="n">num_iterations</span><span class="p">,</span>
    <span class="n">tabu_history</span><span class="p">,</span>
    <span class="n">tabu_limit</span><span class="p">,</span>
    <span class="n">aspiration</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">best_solution</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">best_cost</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">"# Iterations"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">"Cost"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">states</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "0cbf71c618b646f2a5b02a0525134eff", "version_major": 2, "version_minor": 0}
</script><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[389677909, 749952029, 389677908, 854322047, 6028562356, 389678131, 5098988924, 6028561924, 24960080, 3707407641, 249991437, 24960070, 389678145, 1258698109, 24960068, 9270977978, 389678104, 9270977960, 389678267, 9270977966, 3179025274, 9270977970, 1721866234, 304891685, 55808290]
816.492
</pre></div>
</div>
<img alt="../../_images/TabuSearch_15_2.png" src="../../_images/TabuSearch_15_2.png"/>
</div>
</div>
<p>As you may notice, the results above show that the search algorithm was stuck in a cycle. This is because the neighbourhood space of the routes are limited, of which only a very small subset are solutions that would actually generate a “better” cost. To counteract this, we can keep track of the “historically” best solution, and choose this as the best solution at the end of the run.</p>
<p>Recall the <a class="reference internal" href="../GraphSearchAlgorithms/SearchComparison.html"><span class="doc std std-doc">Search Comparison</span></a> results from a previous section; compared to the <strong>801.64</strong> result from Dijkstra, this method produces non-optimal but still “pretty good” results.</p>
</div>
</div>
<script type="application/vnd.jupyter.widget-state+json">
{"state": {"0c9ba8686ef7488a82d20d813b955259": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "ProgressStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ProgressStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "bar_color": null, "description_width": ""}}, "0cbf71c618b646f2a5b02a0525134eff": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "HBoxModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_75f7f73f92d444929ac4f289958b0c58", "IPY_MODEL_991995e78f1a43648a628f7b53e1ab7e", "IPY_MODEL_72a406f6c405498ca38c3b61d8a46520"], "layout": "IPY_MODEL_710ed10692c7469fb301d3013c288ed9"}}, "420828b966834d95ab7829187830a39a": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "51ce42399a56403ea31f334dfd161d1e": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "6f83609c3ac24043b8deb38f8891186c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "710ed10692c7469fb301d3013c288ed9": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "72a406f6c405498ca38c3b61d8a46520": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "HTMLModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_c232b7e7b60c4f8081af9b0cd487dac8", "placeholder": "\u200b", "style": "IPY_MODEL_e96cd6f0827947de97510f71e8175ef4", "value": " 50/50 [08:42&lt;00:00, 10.87s/it]"}}, "75f7f73f92d444929ac4f289958b0c58": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "HTMLModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "HTMLView", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_420828b966834d95ab7829187830a39a", "placeholder": "\u200b", "style": "IPY_MODEL_51ce42399a56403ea31f334dfd161d1e", "value": "100%"}}, "991995e78f1a43648a628f7b53e1ab7e": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatProgressModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatProgressModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ProgressView", "bar_style": "success", "description": "", "description_tooltip": null, "layout": "IPY_MODEL_6f83609c3ac24043b8deb38f8891186c", "max": 50.0, "min": 0.0, "orientation": "horizontal", "style": "IPY_MODEL_0c9ba8686ef7488a82d20d813b955259", "value": 50.0}}, "c232b7e7b60c4f8081af9b0cd487dac8": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e96cd6f0827947de97510f71e8175ef4": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}}, "version_major": 2, "version_minor": 0}
</script>
<script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content/TrajectoryAlgorithms"
        },
        predefinedOutput: true
    }
    </script>
<script>kernelName = 'python3'</script>
</div>
<div class="prev-next-bottom">
<a class="left-prev" href="index.html" id="prev-link" title="previous page">Trajectory-based Algorithms</a>
<a class="right-next" href="SimulatedAnnealing.html" id="next-link" title="next page">Simulated Annealing</a>
</div>
</div>
</div>
<footer class="footer mt-5 mt-md-0">
<div class="container">
<p>
        
          By Alaa Khamis and Yinan Wang<br/>
        
            © Copyright 2021, Alaa Khamis and Yinan Wang.<br/>
</p>
</div>
</footer>
</main>
</div>
</div>
<script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>
</body>
</html>